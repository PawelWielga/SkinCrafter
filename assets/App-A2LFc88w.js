import{R as p,r,j as e}from"./index-CM7xZdgj.js";import{N as v,P as y}from"./PreviewArea-DvC5NIi4.js";const C=["Human","Zombie"],S=p.memo(({onChange:a})=>{const[l,n]=r.useState("Human"),s=r.useCallback(t=>{n(t),a==null||a(t)},[a]);return e.jsxs("div",{className:"section",role:"group","aria-label":"Select Race",children:[e.jsx("h3",{className:"section-title",children:"Race"}),e.jsx("div",{className:"section-grid",children:C.map(t=>{const c=l===t;return e.jsx("button",{type:"button",className:`section-grid-option${c?" selected":""}`,"aria-pressed":c,onClick:()=>s(t),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),s(t))},children:t},t)})})]})});function H({colors:a,selectedColor:l,onChange:n}){return e.jsxs("div",{className:"section",children:[e.jsx("h3",{className:"section-title",children:"Skin Color"}),e.jsx("div",{className:"color-palette",children:a.map(s=>e.jsx("button",{type:"button",className:`color-option${l===s?" selected":""}`,style:{backgroundColor:s},"aria-label":`Kolor skÃ³ry ${s}`,onClick:()=>n==null?void 0:n(s)},s))})]})}function h(){return e.jsx("div",{children:h.name})}function b(){return e.jsx("div",{children:b.name})}const g=["None","Duck"],E={None:null,Duck:"/textures/hat/duck.png"},R=p.memo(({onChange:a})=>{const[l,n]=r.useState("None"),s=r.useCallback(t=>{n(t),a==null||a(t)},[a]);return e.jsxs("div",{className:"section",role:"group","aria-label":"Select Hat",children:[e.jsx("h3",{className:"section-title",children:"Hat"}),e.jsx("div",{className:"section-grid",children:g.map(t=>{const c=l===t;return e.jsx("button",{type:"button",className:`section-grid-option${c?" selected":""}`,"aria-pressed":c,onClick:()=>s(t),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),s(t))},children:t},t)})})]})}),w=["race","hat"],x={Human:["#D5BAAA","#E0AC69","#C68642"],Zombie:["#556B2F"],Template:["#FFFFFF"]},D={Human:"/textures/race/human.png",Zombie:"/textures/race/zombie.png",Template:"/textures/race/template.png"};async function F(a){const l=a.filter(c=>!!c);if(l.length===0)return"";const n=await Promise.all(l.map(c=>new Promise((o,m)=>{const d=new Image;d.crossOrigin="anonymous",d.onload=()=>o(d),d.onerror=m,d.src=c}))),s=document.createElement("canvas");s.width=n[0].width,s.height=n[0].height;const t=s.getContext("2d");return t?(n.forEach(c=>{t.drawImage(c,0,0)}),s.toDataURL()):""}const W=()=>{const[a,l]=r.useState("Human"),[n,s]=r.useState(x.Human[0]),[t,c]=r.useState("None"),o=w,[m,d]=r.useState(null),j=r.useMemo(()=>x[a],[a]),k=r.useCallback(i=>{l(i),s(x[i][0])},[]),f=r.useCallback(i=>{s(i)},[]),N=r.useCallback(i=>{c(i)},[]);return r.useEffect(()=>{const i=[];o.forEach(u=>{u==="race"?i.push(D[a]):u==="hat"&&i.push(E[t])}),F(i).then(u=>d(u))},[a,t]),e.jsxs("div",{className:"container",children:[e.jsx(v,{}),e.jsxs("div",{className:"main-content",children:[e.jsx(y,{texture:m}),e.jsxs("div",{className:"wardrobe-container",children:[e.jsx(S,{onChange:k}),e.jsx(H,{colors:j,selectedColor:n,onChange:f}),e.jsx(R,{onChange:N}),e.jsx(h,{}),e.jsx(b,{})]})]})]})};export{W as default};
