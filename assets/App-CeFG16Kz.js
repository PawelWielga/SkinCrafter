import{R as f,r as n,j as e}from"./index-FAxTc8BF.js";import{N as C,U as S,P as H}from"./PreviewArea-DLYYZ-D_.js";const E=["Human","Zombie"],g=f.memo(({onChange:a})=>{const[i,c]=n.useState("Human"),s=n.useCallback(t=>{c(t),a==null||a(t)},[a]);return e.jsxs("div",{className:"section",role:"group","aria-label":"Select Race",children:[e.jsx("h3",{className:"section-title",children:"Race"}),e.jsx("div",{className:"section-grid",children:E.map(t=>{const o=i===t;return e.jsx("button",{type:"button",className:`section-grid-option${o?" selected":""}`,"aria-pressed":o,onClick:()=>s(t),onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),s(t))},children:t},t)})})]})});function R({colors:a,selectedColor:i,onChange:c}){return e.jsxs("div",{className:"section",children:[e.jsx("h3",{className:"section-title",children:"Skin Color"}),e.jsx("div",{className:"color-palette",children:a.map(s=>e.jsx("button",{type:"button",className:`color-option${i===s?" selected":""}`,style:{backgroundColor:s},"aria-label":`Kolor skÃ³ry ${s}`,onClick:()=>c==null?void 0:c(s)},s))})]})}function b(){return e.jsx("div",{children:b.name})}function j(){return e.jsx("div",{children:j.name})}const D=["None","Duck"],w={None:null,Duck:"/textures/hat/duck.png"},M=f.memo(({onChange:a})=>{const[i,c]=n.useState("None"),s=n.useCallback(t=>{c(t),a==null||a(t)},[a]);return e.jsxs("div",{className:"section",role:"group","aria-label":"Select Hat",children:[e.jsx("h3",{className:"section-title",children:"Hat"}),e.jsx("div",{className:"section-grid",children:D.map(t=>{const o=i===t;return e.jsx("button",{type:"button",className:`section-grid-option${o?" selected":""}`,"aria-pressed":o,onClick:()=>s(t),onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),s(t))},children:t},t)})})]})}),T=["race","hat"],p={Human:["#D5BAAA","#E0AC69","#C68642"],Zombie:["#556B2F"],Template:["#FFFFFF"]},F={Human:"/textures/race/human.png",Zombie:"/textures/race/zombie.png",Template:"/textures/race/template.png"};async function A(a){const i=a.filter(o=>!!o);if(i.length===0)return"";const c=await Promise.all(i.map(o=>new Promise((l,x)=>{const d=new Image;d.crossOrigin="anonymous",d.onload=()=>l(d),d.onerror=x,d.src=o}))),s=document.createElement("canvas");s.width=c[0].width,s.height=c[0].height;const t=s.getContext("2d");return t?(c.forEach(o=>{t.drawImage(o,0,0)}),s.toDataURL()):""}const P=()=>{const[a,i]=n.useState("Human"),[c,s]=n.useState(p.Human[0]),[t,o]=n.useState("None"),l=T,[x,d]=n.useState(null),h=n.useRef(null),k=n.useMemo(()=>p[a],[a]),N=n.useCallback(r=>{i(r),s(p[r][0])},[]),y=n.useCallback(r=>{s(r)},[]),v=n.useCallback(r=>{o(r)},[]);return n.useEffect(()=>{const r=[];l.forEach(u=>{u==="race"?r.push(F[a]):u==="hat"&&r.push(w[t])}),A(r).then(u=>d(u))},[a,t]),n.useEffect(()=>{const r=h.current;if(r){for(let u=0;u<20;u++){const m=document.createElement("div");m.className="particle",m.style.left=Math.random()*100+"%",m.style.animationDelay=Math.random()*6+"s",m.style.animationDuration=6+Math.random()*4+"s",r.appendChild(m)}return()=>{r.innerHTML=""}}},[]),e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"particles",ref:h}),e.jsx(C,{}),e.jsx(S,{}),e.jsxs("div",{className:"main-content",children:[e.jsx(H,{texture:x}),e.jsxs("div",{className:"wardrobe-container",children:[e.jsx(g,{onChange:N}),e.jsx(R,{colors:k,selectedColor:c,onChange:y}),e.jsx(M,{onChange:v}),e.jsx(b,{}),e.jsx(j,{})]})]})]})};export{P as default};
